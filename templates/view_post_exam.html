{% extends 'base.html' %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h1 class="fw-bold">Post Exam Assessments</h1>
    <a href="{{ url_for('postexampage') }}" class="btn btn-primary">âž• Add Assessment</a>
</div>

<div class="table-responsive">
    <table class="table table-bordered table-striped table-hover align-middle">
        <thead class="table-dark">
            <tr>
                <th>Name</th>
                <th>Exam</th>
                <th>Comment</th>
                <th>Date</th>
            </tr>
        </thead>
        <tbody>
            {% for vpe in viewpostexam %}
            <tr>
                <td>{{ vpe['Name'] }}</td>
                <td>{{ vpe['Exam'] }}</td>
                <td class="comment-cell" 
                    data-bs-toggle="tooltip" 
                    data-bs-placement="top" 
                    title="{{ vpe['Comment'] }}">
                    {{ vpe['Comment'][:50] }}{% if vpe['Comment']|length > 30 %}...{% endif %}
                </td>
                <td>{{ vpe['Date'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}

<style>
.comment-cell {
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 200px;
}
</style>

<script>
    // Initialize all Bootstrap tooltips
    var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'))
    var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
        return new bootstrap.Tooltip(tooltipTriggerEl)
    })
</script>